<!DOCTYPE html>
<html lang="<%= locale %>" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= __('CandidateHiringProcesses.title') %></title>
  <link rel="stylesheet" href="/styles/candidate-hiring-processes.css">
  <link rel="icon" type="image/png" href="/images/logo.png" />
</head>
<body 
  data-no-results-message="<%= __('CandidateHiringProcesses.noResultsMessage') %>"
>
  <%- include('../partials/top-bar') %>

  <main class="hiring-processes">
    <h1><%= __('CandidateHiringProcesses.heading') %></h1>

    <div class="filters">
        <input 
          type="text" 
          id="search-bar" 
          placeholder="<%= __('CandidateHiringProcesses.searchPlaceholder') %>" 
        />
        <select id="firm-filter">
          <option value=""><%= __('CandidateHiringProcesses.filterByFirm') %></option>
          <% firms.forEach((firm) => { %>
            <option value="<%= firm.toLowerCase() %>"><%= firm %></option>
          <% }); %>
        </select>
        <select id="phase-filter">
          <option value=""><%= __('CandidateHiringProcesses.filterByPhase') %></option>
          <% phases.forEach((phase) => { %>
            <option value="<%= phase.toLowerCase() %>"><%= phase %></option>
          <% }); %>
        </select>
    </div>
      
    <div class="process-list">
      <% hiringProcesses.forEach((process) => { %>
        <div 
            class="process-card" 
            data-title="<%= process.jobAd.title %>" 
            data-phase="<%= process.currentPhase.toLowerCase() %>"
            data-firm="<%= process.jobAd.firm.name.toLowerCase() %>"
        >
          <h2><%= process.jobAd.title %></h2>
          <p><strong><%= __('CandidateHiringProcesses.firm') %>:</strong> <%= process.jobAd.firm.name %></p>
          <p><strong><%= __('CandidateHiringProcesses.city') %>:</strong> <%= process.jobAd.firm.city || __('CandidateHiringProcesses.notAvailable') %></p>
          <p><strong><%= __('CandidateHiringProcesses.location') %>:</strong> <%= process.jobAd.location || __('CandidateHiringProcesses.notAvailable') %></p>
          <p><strong><%= __('CandidateHiringProcesses.category') %>:</strong> <%= process.jobAd.category || __('CandidateHiringProcesses.notAvailable') %></p>
          <p><strong><%= __('CandidateHiringProcesses.currentPhase') %>:</strong> <%= process.currentPhase %></p>
          <a href="/candidate/hiring-process/<%= process.id %>" class="view-more-btn"><%= __('CandidateHiringProcesses.viewMore') %></a>
        </div>
      <% }); %>
    </div>
  </main>

  <script src="/js/candidate-hiring-processes.js"></script>
</body>
</html>
