<!DOCTYPE html>
<html lang="<%= locale %>" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= __('FirmHiringProcesses.title') %></title>
  <link rel="stylesheet" href="/styles/firm-hiring-processes.css">
  <link rel="icon" type="image/png" href="/images/logo.png" />
</head>
<body 
  data-no-ads-message="<%= __('FirmHiringProcesses.noProcessesFound') %>"
>
    <%- include('../partials/top-bar') %>

  <main class="hiring-processes">
    <h1><%= __('FirmHiringProcesses.title') %></h1>

    <!-- Filters Section -->
    <div class="filters">
        <input
          type="text"
          id="search-bar"
          placeholder="<%= __('FirmHiringProcesses.searchPlaceholder') %>"
        />
        <select id="category-filter">
          <option value=""><%= __('FirmHiringProcesses.filterByCategory') %></option>
          <% uniqueCategories.forEach((category) => { %>
            <option value="<%= category.toLowerCase() %>"><%= category %></option>
          <% }); %>
        </select>
        <select id="phase-filter">
            <option value=""><%= __('FirmHiringProcesses.filterByPhase') %></option>
            <% phases.forEach((phase) => { %>
              <option value="<%= phase.toLowerCase() %>"><%= phase %></option>
            <% }); %>
        </select>
    </div>

    <!-- Process List -->
    <div class="process-list">
      <% hiringProcesses.forEach((process) => { %>
        <div 
          class="process-card" 
          data-title="<%= process.jobAd.title %>" 
          data-category="<%= process.jobAd.category ? process.jobAd.category.toLowerCase() : '' %>" 
          data-phase="<%= process.currentPhase.toLowerCase() %>"
        >
          <h2><%= process.jobAd.title %></h2>
          <p><strong><%= __('FirmHiringProcesses.location') %>:</strong> <%= process.jobAd.location || __('FirmHiringProcesses.notAvailable') %></p>
          <p><strong><%= __('FirmHiringProcesses.category') %>:</strong> <%= process.jobAd.category || __('FirmHiringProcesses.notAvailable') %></p>
          <p><strong><%= __('FirmHiringProcesses.currentPhase') %>:</strong> <%= process.currentPhase %></p>
          <a href="/firm/hiring-process/<%= process.id %>" class="view-details-btn"><%= __('FirmHiringProcesses.viewDetails') %></a>
        </div>
      <% }); %>
    </div>    
  </main>

  <%- include('../partials/go-top') %>

  <script src="/js/firm-hiring-processes.js"></script>
</body>
</html>
