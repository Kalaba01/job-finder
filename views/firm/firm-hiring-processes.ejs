<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= __('HiringProcesses.title') %></title>
  <link rel="stylesheet" href="/styles/firm-hiring-processes.css">
  <link rel="icon" type="image/png" href="/images/logo.png" />
</head>
<body 
  data-no-ads-message="<%= __('HiringProcesses.noProcessesFound') %>"
>
    <%- include('../partials/top-bar') %>

  <main class="hiring-processes">
    <h1><%= __('HiringProcesses.title') %></h1>

    <!-- Filters Section -->
    <div class="filters">
        <input
          type="text"
          id="search-bar"
          placeholder="<%= __('HiringProcesses.searchPlaceholder') %>"
        />
        <select id="category-filter">
          <option value=""><%= __('HiringProcesses.filterByCategory') %></option>
          <% uniqueCategories.forEach((category) => { %>
            <option value="<%= category.toLowerCase() %>"><%= category %></option>
          <% }); %>
        </select>
        <select id="phase-filter">
            <option value=""><%= __('HiringProcesses.filterByPhase') %></option>
            <% phases.forEach((phase) => { %>
              <option value="<%= phase.toLowerCase() %>"><%= phase %></option>
            <% }); %>
        </select>
    </div>

    <!-- Process List -->
    <div class="process-list">
        <% hiringProcesses.forEach((process) => { %>
          <div 
            class="process-card" 
            data-title="<%= process.jobAd.title %>" 
            data-category="<%= process.jobAd.category ? process.jobAd.category.toLowerCase() : '' %>" 
            data-phase="<%= process.currentPhase.toLowerCase() %>"
          >
            <h2><%= process.jobAd.title %></h2>
            <p><strong><%= __('HiringProcesses.location') %>:</strong> <%= process.jobAd.location || __('HiringProcesses.notAvailable') %></p>
            <p><strong><%= __('HiringProcesses.category') %>:</strong> <%= process.jobAd.category || __('HiringProcesses.notAvailable') %></p>
            <p><strong><%= __('HiringProcesses.candidate') %>:</strong> <%= process.candidate.name %></p>
            <p><strong><%= __('HiringProcesses.currentPhase') %>:</strong> <%= process.currentPhase %></p>
            <a href="/firm/hiring-process/<%= process.id %>" class="view-details-btn"><%= __('HiringProcesses.viewDetails') %></a>
          </div>
        <% }); %>
    </div>
  </main>

  <script src="/js/firm-hiring-processes.js"></script>
</body>
</html>
