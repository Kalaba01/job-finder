<!DOCTYPE html>
<html lang="<%= locale %>" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= __("JobAds.title") %></title>
  <link rel="stylesheet" href="/styles/job-ads.css">
  <link rel="icon" type="image/png" href="/images/logo.png" />
</head>
<body>
  <%- include('../partials/top-bar') %>

  <div class="job-ads-container">
    <div class="job-ads-header">
      <input 
        type="text" 
        id="search-bar" 
        class="search-bar" 
        placeholder="<%= __('JobAds.searchPlaceholder') %>"
      />
      <select id="status-filter" class="filter-dropdown">
        <option value=""><%= __("JobAds.allStatuses") %></option>
        <% statuses.forEach(status => { %>
          <option value="<%= status %>"><%= __("JobAds.status." + status) %></option>
        <% }) %>
      </select>
      <button id="create-job-ad-btn" class="create-job-ad-btn">Create Job Ad</button>
    </div>
    <div id="job-ads-list-container">
      <% if (jobAds.length === 0) { %>
        <p id="no-ads-message" class="no-ads-message"><%= __("JobAds.noAdsFound") %></p>
      <% } else { %>
        <div id="job-ads-list" class="job-ads-list" >
          <% jobAds.forEach(jobAd => { %>
            <div class="job-card" data-title="<%= jobAd.title.toLowerCase() %>" data-status="<%= jobAd.status %>">
              <h2 class="job-title"><%= jobAd.title %></h2>
              <p class="job-description"><%= jobAd.description.substring(0, 100) %>...</p>
              <p class="job-location"><%= __("JobAds.location") %>: <%= jobAd.location || __("JobAds.remote") %></p>
              <p class="job-category"><%= __("JobAds.category") %>: <%= jobAd.category || __("JobAds.general") %></p>
              <p class="job-expiration"><%= __("JobAds.expiresOn") %>: <%= new Date(jobAd.expiration_date).toLocaleDateString() %></p>
              <button class="job-edit-btn"><%= __("JobAds.editButton") %></button>
            </div>
          <% }) %>
        </div>
      <% } %>
    </div>
  </div>

  <%- include('./job-ads-create') %>
  <script src="/js/job-ads.js"></script>
</body>
</html>
